unit AccountCreation;

interface

uses
  Winapi.Windows, Winapi.Messages, System.SysUtils, System.Variants, System.Classes, Vcl.Graphics,
  Vcl.Controls, Vcl.Forms, Vcl.Dialogs, Vcl.StdCtrls;

type
  TForm4 = class(TForm)
    LabelAccountName: TLabel;
    EditAccountName: TEdit;
    EditAccountPassword: TEdit;
    LabelAccountPassword: TLabel;
    ComboBoxAccountPowerLevel: TComboBox;
    ComboBoxAccountStatus: TComboBox;
    Label1: TLabel;
    Label2: TLabel;
    EditFirstname: TEdit;
    EditSecondname: TEdit;
    EditThirdname: TEdit;
    LabelFirstName: TLabel;
    LabelSecondName: TLabel;
    LabelThirdName: TLabel;
    ButtonSend: TButton;
    procedure FormCreate(Sender: TObject);
    procedure ButtonSendClick(Sender: TObject);
  private
     { Private declarations }
  function GetComboBoxValue(ComboBox: TComboBox): Integer;
  public
    { Public declarations }
  end;

var
  Form4: TForm4;

implementation

{$R *.dfm}

function TForm4.GetComboBoxValue(ComboBox: TComboBox): Integer;
begin
  Result := NativeInt(ComboBox.Items.Objects[ComboBox.ItemIndex]);
end;



procedure TForm4.ButtonSendClick(Sender: TObject);
begin
if (EditAccountName.Text = '') or (EditAccountPassword.Text = '') or (EditFirstname.Text = '')
or (EditSecondname.Text = '') or (EditThirdname.Text = '') or (ComboBoxAccountStatus.ItemIndex = -1)
or (ComboBoxAccountPowerLevel.ItemIndex = -1)
then
begin
  ShowMessage('Все поля должны быть заполнены!');
  Exit;
end;
CreateNewUser;
end;

procedure TForm4.FormCreate(Sender: TObject);
begin
  ComboBoxAccountStatus.Items.AddObject('Неактивен', TObject(0));
  ComboBoxAccountStatus.Items.AddObject('Активен', TObject(1));

  ComboBoxAccountPowerLevel.Items.AddObject('Гость', TObject(0));
  ComboBoxAccountPowerLevel.Items.AddObject('Стандартный', TObject(1));
  ComboBoxAccountPowerLevel.Items.AddObject('Администратор', TObject(2));
end;

end.
